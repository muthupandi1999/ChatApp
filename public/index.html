<!DOCTYPE html>
<html>

<head>
    <title>Slide Navbar</title>
    <link rel="stylesheet" type="text/css" href="./register.css">
    <link href="https://fonts.googleapis.com/css2?family=Jost:wght@500&display=swap" rel="stylesheet">
</head>

<body>
    <div class="main">
        <input type="checkbox" id="chk" aria-hidden="true">

        <div class="signup">
            <form id="login-form">
                <label for="chk" aria-hidden="true">Sign in</label>
                <input type="email" name="email" placeholder="Email" required="">
                <input type="password" name="password" placeholder="Password" required="">
                <button type="submit">Sign up</button>
            </form>
        </div>

        <div class="register">

            <!-- <label for="chk" aria-hidden="true">Login</label>
            <input type="email" name="email" placeholder="Email" required="">
            <input type="password" name="pswd" placeholder="Password" required=""> -->
            <a class="RegBtn" href="http://localhost:4000/register">Register</a>

        </div>
    </div>




    <script src="/socket.io/socket.io.js"></script>

    <script>
        const socket = io();

        const loginForm = document.getElementById('login-form');
        const registerStatus = document.getElementById('register-status');

        loginForm.addEventListener('submit', (event) => {
            event.preventDefault();

            const data = {
                email: loginForm.email.value,
                password: loginForm.password.value,
            };

            socket.emit('login', data);

            socket.on('login success', ({ username }) => {

                alert("Login Successfully")

                loginForm.reset();


            });
            socket.on('redirect', (destination) => {
                window.location.href = destination;
            })



            socket.on('login failure', () => {
                alert("Login Failed")
            });
        });


    </script>
</body>

</html>